<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin | BPP PCs</title>
  <meta name="description" content="BPP PCs admin panel for product management.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body data-admin-page>
  <header class="site-header">
    <div class="container header-inner">
      <a class="logo" href="index.html" aria-label="BPP PCs home">
        <span class="logo-badge">BPP</span>
        <span class="logo-copy">
          <strong>BPP PCs</strong>
          <span>BUY IT. PLUG IT. PLAY IT.</span>
        </span>
      </a>
      <button class="mobile-toggle" type="button" data-mobile-toggle aria-label="Toggle site navigation">Menu</button>
      <nav class="nav-menu" data-nav-menu aria-label="Primary navigation">
        <a data-nav="index.html" href="index.html">Home</a>
        <a data-nav="products.html" href="products.html">Products</a>
        <a data-nav="basket.html" href="basket.html">Basket</a>
      </nav>
      <!-- Staff access moved to top-right per request. -->
      <div class="header-actions">
        <a class="staff-login-btn" href="admin.html" aria-label="Staff login">Staff Login</a>
        <a class="basket-pill" href="basket.html" aria-label="Go to basket">
          Basket
          <strong data-basket-count>0</strong>
        </a>
      </div>
    </div>
  </header>

  <main class="section">
    <div class="container admin-shell">
      <div class="section-top">
        <div>
          <p class="kicker">Admin</p>
          <h1 style="font-size:clamp(2rem,4.8vw,3.4rem);">Catalog Management</h1>
        </div>
      </div>

      <section id="admin-login-panel" class="panel admin-login">
        <h2 style="margin-bottom:0.7rem;">Admin Login</h2>
        <p class="admin-note" style="margin-bottom:0.7rem;">
          Enter access code to manage products. Default code: <code>901</code>.
        </p>
        <form id="admin-login-form">
          <label for="admin-code">Access code</label>
          <input id="admin-code" type="password" autocomplete="off" required>
          <p id="admin-login-error" class="admin-error" aria-live="polite"></p>
          <button class="button primary" type="submit">Enter Admin</button>
        </form>
      </section>

      <section id="admin-dashboard" hidden>
        <div class="admin-toolbar">
          <button id="admin-new-product" class="button secondary" type="button">Add New Product</button>
          <button id="admin-reset-default" class="button ghost" type="button">Reset to Default Catalog</button>
          <button id="admin-export-products" class="button primary" type="button">Export products.js</button>
          <button id="admin-logout" class="button ghost" type="button">Logout</button>
        </div>
        <p class="admin-note">
          This static site stores edits in localStorage. Use "Export products.js" and replace <code>js/products.js</code> in the repo to persist changes on GitHub Pages.
        </p>

        <div class="admin-grid">
          <article class="panel">
            <h2 style="margin-bottom:0.8rem;">Current Products</h2>
            <div class="table-wrap">
              <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Category</th>
                    <th>Price</th>
                    <th>Images</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="admin-product-body"></tbody>
              </table>
            </div>
          </article>

          <article class="panel">
            <h2 id="admin-form-title" style="margin-bottom:0.8rem;">Add Product</h2>
            <form id="admin-product-form" class="form-grid">
              <label for="product-id">Product ID (auto)</label>
              <input id="product-id" type="text" readonly>

              <label for="product-title">Title</label>
              <input id="product-title" type="text" required>

              <div class="form-row">
                <div>
                  <label for="product-category">Category</label>
                  <input id="product-category" type="text" placeholder="Gaming, Creator, Workstation">
                </div>
                <div>
                  <label for="product-price">Price (USD)</label>
                  <input id="product-price" type="number" min="0" step="1" required>
                </div>
              </div>

              <div class="form-row">
                <div>
                  <label for="product-stock">Stock seed</label>
                  <input id="product-stock" type="number" min="1" step="1" value="8">
                </div>
                <div>
                  <label for="product-stripe">Stripe Price ID</label>
                  <input id="product-stripe" type="text" placeholder="price_...">
                </div>
              </div>

              <label for="product-description">Description</label>
              <textarea id="product-description" required></textarea>

              <label for="product-specs">Specs (line or comma separated)</label>
              <textarea id="product-specs" placeholder="RTX-class graphics&#10;32GB DDR5&#10;2TB NVMe"></textarea>

              <label for="product-images">Image URLs/paths (line or comma separated)</label>
              <textarea id="product-images" placeholder="images/products/vanta-s1.svg"></textarea>

              <label style="display:flex;align-items:center;gap:0.5rem;">
                <input id="product-featured" type="checkbox" style="width:auto;">
                Featured build
              </label>

              <div style="display:flex;gap:0.5rem;flex-wrap:wrap;">
                <button id="admin-save-button" class="button primary" type="submit">Save Product</button>
                <button id="admin-cancel-edit" class="button secondary" type="button" hidden>Cancel Edit</button>
              </div>
            </form>
          </article>
        </div>
      </section>
    </div>
  </main>

  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <h3 style="margin-bottom:0.4rem;">BPP PCs</h3>
        <p>Administrative catalog control for static deployment workflows.</p>
        <p class="meta-line" style="margin-top:0.5rem;">Â© <span data-year></span> BPP PCs</p>
      </div>
      <div class="footer-links">
        <a href="products.html">Products</a>
        <a href="basket.html">Basket</a>
        <a href="admin.html">Admin</a>
        <a href="privacy.html">Privacy Policy</a>
        <a href="terms.html">Terms</a>
        <a href="refund.html">Refunds</a>
      </div>
    </div>
  </footer>

  <script src="js/config.js"></script>
  <script src="js/products.js"></script>
  <script src="js/store.js"></script>
  <script src="js/app.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
